(()=>{var e,t={459:()=>{function e(){alert("Link copied to the clipboard!")}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".copy-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var n,o=this.getAttribute("href");n=o,new Promise(((t,o)=>{if("undefined"!=typeof navigator&&void 0!==navigator.clipboard&&"undefined"!==navigator.permissions){const a="text/plain",s=new Blob([n],{type:a}),r=[new ClipboardItem({[a]:s})];navigator.permissions.query({name:"clipboard-write"}).then((n=>{"granted"===n.state||"prompt"===n.state?(navigator.clipboard.write(r).then(t,o).catch(o),e()):o(new Error("Permission not granted!"))}))}else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var a=document.createElement("input");a.value=n,document.body.appendChild(a),a.select();try{document.execCommand("copy"),document.body.removeChild(a),t(),e()}catch(e){document.body.removeChild(a),o(e)}}else o(new Error("None of copying methods are supported by this browser!"))}))}))}));var t=document.getElementById("file_upload_bc_import");if(t){var n=document.getElementById("btn_bc_import");t.addEventListener("change",(function(){t.files.length>0&&(n.disabled=!1)}))}})),jQuery(document).ready((function(e){function t(){var t={action:"boat_configurator_search_entries",s:e("#search-input").val(),start_date:e("#start_date").val(),end_date:e("#end_date").val(),sort_column:e("#entries-container").data("sort-column"),sort_order:e("#entries-container").data("sort-order"),_ajax_nonce:e("#boat_config_entries_list_nonce").val()};e.ajax({url:e("#ajax-url").val(),method:"GET",data:t,success:function(t){e("#entries-container").html(t)}}),console.log(JSON.stringify(t))}e("#search-input, #start_date, #end_date").on("input change",(function(){t()})),e(document).on("click",".sort-column",(function(){var n=e(this).data("column"),o=e(this).data("order");o="asc"===o?"desc":"desc"===o?"none":"asc",e("#entries-container").data("sort-column",n),e("#entries-container").data("sort-order",o);var a=new URLSearchParams(window.location.search);a.set("sort_column",n),a.set("sort_order",o),console.log(a.toString()),t()}))}))},999:(e,t,n)=>{"use strict";const o=window.wp.blocks,a=window.React,s=(window.wp.i18n,window.wp.blockEditor),r=window.wp.components,c=JSON.parse('{"UU":"create-block/boat-configurator"}');n.p,n(459),(0,o.registerBlockType)(c.UU,{edit:function(e){const[t,n]=(0,a.useState)({});function o(e){n((t=>({...t,[e]:!t[e]})))}const[c,i]=(0,a.useState)(Array.from({length:e.attributes.questions.length},(()=>[])));function l(e,t){i((n=>{const o=[...n];return o[e][t]=!n[e][t],o}))}function u(t,n){if(n){if(t>0){const n=[...e.attributes.questions];[n[t],n[t-1]]=[n[t-1],n[t]],e.setAttributes({questions:n})}}else if(t<e.attributes.questions.length-1){const n=[...e.attributes.questions];[n[t],n[t+1]]=[n[t+1],n[t]],e.setAttributes({questions:n})}}return(0,s.useBlockProps)({className:"boat-config-edit-block"}),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{...(0,s.useBlockProps)()},(0,a.createElement)("label",{className:"input-bc-custom"},(0,a.createElement)("input",{class:"input-bc-custom__field",type:"text",placeholder:" ",value:e.attributes.model,onChange:t=>{return n=t.target.value,void e.setAttributes({model:n});var n},style:{fontSize:"20px"}}),(0,a.createElement)("span",{className:"input-bc-custom__label"},"Model:")),(0,a.createElement)("p",{style:{fontSize:"13px",margin:"20px 0 8px 0",paddingLeft:"1.4em",color:"#b0afaf"}},"Questions:"),e.attributes.questions.map((function(n,m){const d=t[m]||!1;return(0,a.createElement)(r.Flex,{key:m},(0,a.createElement)(r.FlexItem,{style:{flex:20}},(0,a.createElement)("div",{key:m,className:"accordion"},(0,a.createElement)("div",{className:"accordion-header "+(d?"":"closed")},(0,a.createElement)(r.Flex,null,(0,a.createElement)(r.Flex,{className:"question-header"},(0,a.createElement)(r.FlexBlock,{className:"stacked"},(0,a.createElement)(r.FlexItem,{className:"question-arrows"},m>0?(0,a.createElement)("span",{className:"dashicons dashicons-arrow-up-alt2",onClick:()=>u(m,!0)}):(0,a.createElement)("span",{className:"dashicons dashicons-arrow-up-alt2",style:{color:"#dfdfdf"}})),(0,a.createElement)(r.FlexItem,{className:"question-arrows"},m<e.attributes.questions.length-1?(0,a.createElement)("span",{className:"dashicons dashicons-arrow-down-alt2",onClick:()=>u(m)}):(0,a.createElement)("span",{className:"dashicons dashicons-arrow-down-alt2",style:{color:"#dfdfdf"}}))),(0,a.createElement)(r.FlexItem,{className:"question-header",onClick:()=>o(m)},(0,a.createElement)(r.FlexItem,null,m+1),(0,a.createElement)(r.FlexItem,null,n.text))),(0,a.createElement)(r.Flex,{className:"question-expand"},(0,a.createElement)(r.FlexItem,null,(0,a.createElement)("span",{className:"dashicons dashicons-"+(d?"minus":"plus"),onClick:()=>o(m)}))))),d&&(0,a.createElement)("div",{className:"accordion-content"},(0,a.createElement)(r.Flex,{className:"question-container"},(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("label",{className:"input-bc-custom"},(0,a.createElement)("input",{className:"input-bc-custom__field",type:"text",placeholder:" ",value:n.text,onChange:t=>{const n=[...e.attributes.questions];n[m].text=t.target.value,e.setAttributes({questions:n})},style:{fontSize:"15px"}}),(0,a.createElement)("span",{className:"input-bc-custom__label question"},"Question text:")),(0,a.createElement)("div",{className:"container"},(0,a.createElement)("div",{className:"container"},n.options.map(((t,n)=>(0,a.createElement)("div",{className:"card",key:`${m}-${n}`},(0,a.createElement)("span",{className:"dashicons dashicons-no delete-option",onClick:()=>function(t,n){const o=e.attributes.questions.map(((e,o)=>{if(o===t){const t=e.options.filter(((e,t)=>t!==n));return{...e,options:t}}return e}));e.setAttributes({questions:o})}(m,n)}),(0,a.createElement)("div",{className:"top-text"},(0,a.createElement)("div",{className:"option"},(0,a.createElement)("label",{className:"input-bc-custom"},(0,a.createElement)("input",{className:"input-bc-custom__field",type:"text",placeholder:" ",value:t.optionText,onChange:t=>{const o=[...e.attributes.questions];o[m].options[n].optionText=t.target.value,e.setAttributes({questions:o})},style:{fontSize:"15px"}}),(0,a.createElement)("span",{className:"input-bc-custom__label"},"Option text:")))),(0,a.createElement)("div",null,(0,a.createElement)(s.MediaUpload,{onSelect:t=>{const o=[...e.attributes.questions];o[m].options[n].imgUrl=t.url,o[m].options[n].color="",e.setAttributes({questions:o})},allowedTypes:["image"],render:({open:e})=>(0,a.createElement)("span",{className:"dashicons dashicons-format-image",onClick:e})}),(0,a.createElement)("span",{className:"dashicons dashicons-color-picker",onClick:()=>l(m,n)}),c[m][n]&&(0,a.createElement)(r.Modal,{title:"Pick the color",onRequestClose:()=>l(m,n)},(0,a.createElement)(r.ColorPicker,{color:t.color,onChange:t=>{const o=[...e.attributes.questions];o[m].options[n].imgUrl="",o[m].options[n].color=t,e.setAttributes({questions:o})}}))),(0,a.createElement)("div",{className:"img"},t.imgUrl&&(0,a.createElement)("img",{src:t.imgUrl,alt:t.optionText}),t.color&&(0,a.createElement)("div",{style:{background:t.color,height:"100%",width:"100%"}})))))),(0,a.createElement)("div",{className:"card-plus"},(0,a.createElement)("span",{className:"dashicons dashicons-insert add-option",onClick:()=>function(t){const n=[...e.attributes.questions[t].options,{optionText:"",imgUrl:"",color:""}];e.setAttributes({questions:e.attributes.questions.map(((e,o)=>o===t?{...e,options:n}:e))})}(m)})))))))),(0,a.createElement)(r.FlexItem,{className:"delete-question",style:{flex:1}},(0,a.createElement)("span",{className:"dashicons dashicons-trash delete-btn",onClick:()=>function(t){const n=e.attributes.questions.filter((function(e,n){return n!=t}));e.setAttributes({questions:n}),i((e=>e.filter(((e,n)=>n!==t))))}(m)})))})),(0,a.createElement)(r.Button,{onClick:()=>(e.setAttributes({questions:e.attributes.questions.concat([{text:"",options:[{optionText:"",imgUrl:"",color:""}]}])}),void i((e=>[...e,[]])))},"Add another question")))},save:function(){return null}})}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,a,s)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,a,s]=e[u],c=!0,i=0;i<n.length;i++)(!1&s||r>=s)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(c=!1,s<r&&(r=s));if(c){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,a,s]},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,s,[r,c,i]=n,l=0;if(r.some((t=>0!==e[t]))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(i)var u=i(o)}for(t&&t(n);l<r.length;l++)s=r[l],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},n=globalThis.webpackChunkboat_configurator=globalThis.webpackChunkboat_configurator||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[350],(()=>o(999)));a=o.O(a)})();